outputs:
  default:
    type: elasticsearch
    hosts: ["http:3.109.12:9200"]
    ssl.verification_mode: none

agent:
  monitoring:
    enabled: true
    logs: true
    metrics: true
  logging:
    level: info
    to_files: true
    files:
      path: /var/log/elastic-agent

inputs:
  - type: filestream
    id: spring-app-logs
    data_stream:
      dataset: spring.logs
      namespace: production
    paths:
      - "/app/logs/app.log"
      - "/logs/app.log"
      - "/dev/stdout"

  - type: filestream
    id: container-logs
    data_stream:
      dataset: container.logs
      namespace: production
    paths:
      - "/proc/1/fd/1"
      - "/proc/1/fd/2"

  - type: system/metrics
    id: system-metrics
    data_stream:
      namespace: production
    streams:
      - metricsets: ["cpu"]
        data_stream.dataset: system.cpu
        period: 10s
      - metricsets: ["memory"]
        data_stream.dataset: system.memory
        period: 10s
      - metricsets: ["network"]
        data_stream.dataset: system.network
        period: 10s
      - metricsets: ["filesystem"]
        data_stream.dataset: system.filesystem
        period: 30s

  - type: apm
    server_url: "http://<APM serverIp URI>:8200"
    data_stream:
      namespace: production
