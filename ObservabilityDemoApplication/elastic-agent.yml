outputs:
  default:
    type: elasticsearch
    hosts: ["http://65.0.76.204:9200"]
    username: "elastic"
    password: "DIgea+J4ogc1ycA*Whtu"

inputs:
  - type: filestream
    id: springboot-logs
    data_stream:
      dataset: springboot.logs
      type: logs
    streams:
      - paths:
          - /app/logs/app.log
          - /app/logs/*.log
          - /dev/stdout
          - /logs/*.log
          - /var/lib/docker/containers/${docker.container.id}/*-json.log
          - /proc/1/fd/1
        parsers:
          - ndjson:
              keys_under_root: true
              overwrite_keys: true
        fields:
          service.name: sudhir-app
        multiline:
          pattern: '^\{'
          negate: true
          match: after

  - type: awsfargate/metrics
    data_stream:
      dataset: awsfargate.task_stats
      type: metrics
    streams:
      - period: 10s
